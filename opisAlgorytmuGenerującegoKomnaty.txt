

procedura generator
wejście:
    prostokątny wycinek planszy (LU)(RD)=>R^2xR^2
    plansza
    głębokość 
jesli głebokość <=0 wyjdź
oblicz szerokość prostokąta i przydziel ją zmiennej w
oblicz wysokość prostokąta i przydziel zmiennej h
jeśli w<5 wyjdż
jesli h<5 wyjdz
wyolsuj liczbę: z zakresu: 2..w-2 => nw
wylosuj liczbe z zakresu 2..h-2 =>nh
zbuduj losowy wektor z trzech wartości: up,left,right,down, wektor ma mieć 3 z czterech, bez powtórzeń (procedura generate vector); nadaj jego wartosc zmiennej otwory

podziel prostokąt na cztery losowe prostokąty, tnąc pionowo na szerokości nw i poziomo na nh
następnie wykonaj generator dla czterech powstałych prostokątów, ale tak, by było miejsce na ścianę, możemy przyjąć arbitralnie w którą stronę ma się odchylać
powstają więc prostokąty:
;;górne prostokąty
(lu.x,lu.y)(lu.x+nw-1,lu.y+nh-1)
(lu.x+nw,lu.y)(rd.x,lu.y+nh-1)

(lu.x,lu.y+nh)(lu.x,rd.y)
(lu.x+nw-1,lu.y+nh)(rd.x,rd.y)
wykonaj rekurencyjnie generator dla powyżej obliczonych współżednych

iteruj po wewnętrznych krawędziach obliczonych prostokątów:
wylosuj po 1 przejściu na 3 z czterech krawędzi, określ jakiego ma być typu, jesli:
 drzwi, wylosuj, w której ćwiartce ma się znaleźć klucz. 10 na 100 przypadków 
 teleport wylosuj w której cwiartce ma być wyjście 1 na 100 przypadków
 przerwa - podłoga - 89 na 100 przypadków
 
 
wylosuj losową liczbę z przedziału (10..max)  elementów (zmienna) ze zmiennym prawdopodobieństwem:
  * potwór chodzący przy ścianach (generyczny)
  * podobny, ale otwierający drzwi, zbierający klucze
  * potwór teleportujący się
  * potwór który umie się teleportować i otwierać drzwi, zbiera broń i umie strzelać "widzi" rekurencyjnie
  * działko
  * broń { wszystkie możliwe typy }
  * token - jeśli wylosowany token, to następny otwór interaktywny {drzwi, teleport} będą na tokeny, przy wylosowaniu pierwszego tokena losowana jest liczba tokenów do zebrania ->zmienna globalna w tym kontekście
    # jeśli prawdopodobieństwo wylosowania tokena powinno rosnąć z ilością wymaganch tokenów
  * przełącznik 
  * pudło
  * słaba ściana
  * bomba
  * mina
  * klucz -> dodatkowy, wartość prawdopodobieństwa regulowana, żeby nie ułatwiać
  
każdy z nich ma być rozstawiony przy wewnętrznej ściane każdego prostokąta - losujemy punkty, najpierw pion, poziom, potem wysokosc, szerokosc

rysuj ścianę dla wszystkich punktów z wyjątkiem przerwy, jeśli jest już tam przedmiot, nie nadpisuj.

sposób wybierania miejsca na klucz do drzwi:
klucz znajduje się w losowej ćwiartce połowy, w której nie ma drzwi.
teleport(losuje ćwiartkę z która ma się łaczyć, teleport stawia obok ściany, a docelowy, losuje pod ścianą docelowej cwiartki (samą siebie ma najrzadziej, np. rozkład: 33/100,33/100, 33/100 i 1/100 dla samej siebie
   
   
R   #3  #
    #   1 
        # 1
##3###2#### ##
    #   #
      2          
    #   #
   
   
   
   